2025-08-03 17:35:01.596 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-03 17:35:02.423 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:02.426 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:02.427 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:02.428 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:02.428 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:02.429 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:02.430 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:02.430 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:02.430 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:02.431 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:02.431 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:02.432 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:02.432 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:02.432 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:02.433 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:02.433 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:02.434 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:02.460 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:02.460 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:02.460 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:02.460 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:02.460 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:02.461 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:02.461 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:02.461 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:02.461 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:02.461 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:02.588 +05:00 [DBG] The index {'BookingId'} was not created on entity type 'BookingRoom' as the properties are already covered by the index {'BookingId', 'RoomId'}.
2025-08-03 17:35:02.589 +05:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-03 17:35:02.591 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:02.794 +05:00 [DBG] The property 'Room.RoomTypeId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-08-03 17:35:02.795 +05:00 [WRN] The foreign key property 'RoomPhoto.RoomId1' was created in shadow state because a conflicting property with the simple name 'RoomId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-03 17:35:02.941 +05:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-08-03 17:35:03.994 +05:00 [DBG] 'AppDbContext' disposed.
2025-08-03 17:35:23.319 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-03 17:35:23.990 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:23.992 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:23.992 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:23.993 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:23.993 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:23.994 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:23.994 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:23.995 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:23.995 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:23.996 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:23.996 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:23.997 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:23.997 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:23.998 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:23.998 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:23.999 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:23.999 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:24.031 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:24.032 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:24.032 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:24.032 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:24.032 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:24.033 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:24.033 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:24.033 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:24.033 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:24.034 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:24.173 +05:00 [DBG] The index {'BookingId'} was not created on entity type 'BookingRoom' as the properties are already covered by the index {'BookingId', 'RoomId'}.
2025-08-03 17:35:24.174 +05:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-03 17:35:24.176 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:35:24.345 +05:00 [DBG] The property 'Room.RoomTypeId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-08-03 17:35:24.346 +05:00 [WRN] The foreign key property 'RoomPhoto.RoomId1' was created in shadow state because a conflicting property with the simple name 'RoomId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-03 17:35:24.505 +05:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-08-03 17:35:24.787 +05:00 [DBG] Creating DbConnection.
2025-08-03 17:35:24.793 +05:00 [DBG] Created DbConnection. (2ms).
2025-08-03 17:35:24.794 +05:00 [DBG] Migrating using database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:35:24.799 +05:00 [DBG] Opening connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:35:24.805 +05:00 [DBG] Opened connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:35:24.813 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:35:24.820 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2025-08-03 17:35:24.821 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2025-08-03 17:35:24.829 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-03 17:35:24.843 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-03 17:35:24.850 +05:00 [DBG] Closing connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:35:24.856 +05:00 [DBG] Closed connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS' (1ms).
2025-08-03 17:35:24.857 +05:00 [DBG] Opening connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:35:24.857 +05:00 [DBG] Opened connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:35:24.858 +05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-03 17:35:24.861 +05:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-03 17:35:24.862 +05:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-03 17:35:24.862 +05:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-03 17:35:24.862 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-03 17:35:24.999 +05:00 [INF] Executed DbCommand (136ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-03 17:35:25.080 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-03 17:35:25.087 +05:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-08-03 17:35:25.088 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:35:25.088 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:35:25.089 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-08-03 17:35:25.089 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-03 17:35:25.096 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-03 17:35:25.098 +05:00 [DBG] Committing transaction.
2025-08-03 17:35:25.102 +05:00 [DBG] Committed transaction.
2025-08-03 17:35:25.103 +05:00 [DBG] Disposing transaction.
2025-08-03 17:35:25.106 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-03 17:35:25.106 +05:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-08-03 17:35:25.107 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:35:25.108 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:35:25.108 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:35:25.108 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-03 17:35:25.108 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-03 17:35:25.109 +05:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-03 17:35:25.109 +05:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-03 17:35:25.109 +05:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-03 17:35:25.109 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-03 17:35:25.110 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-03 17:35:25.112 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-03 17:35:25.112 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-03 17:35:25.112 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-08-03 17:35:25.112 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-03 17:35:25.120 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-03 17:35:25.123 +05:00 [DBG] Closing data reader to 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:35:25.124 +05:00 [DBG] A data reader for 'HotelBooking' on server 'localhost\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-03 17:35:25.130 +05:00 [INF] Applying migration '20250803123503_Init'.
2025-08-03 17:35:25.220 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:35:25.220 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:35:25.220 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:35:25.220 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Countries] (
    [CountryId] bigint NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [Code] nvarchar(10) NOT NULL,
    [PhoneCode] nvarchar(10) NULL,
    [Currency] nvarchar(10) NULL,
    [IsActive] bit NOT NULL,
    CONSTRAINT [PK_Countries] PRIMARY KEY ([CountryId])
);
2025-08-03 17:35:25.226 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Countries] (
    [CountryId] bigint NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [Code] nvarchar(10) NOT NULL,
    [PhoneCode] nvarchar(10) NULL,
    [Currency] nvarchar(10) NULL,
    [IsActive] bit NOT NULL,
    CONSTRAINT [PK_Countries] PRIMARY KEY ([CountryId])
);
2025-08-03 17:35:25.226 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:35:25.226 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:35:25.226 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:35:25.226 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RoomTypes] (
    [RoomTypeId] bigint NOT NULL IDENTITY,
    [Type] nvarchar(max) NULL,
    [Description] nvarchar(max) NULL,
    CONSTRAINT [PK_RoomTypes] PRIMARY KEY ([RoomTypeId])
);
2025-08-03 17:35:25.230 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RoomTypes] (
    [RoomTypeId] bigint NOT NULL IDENTITY,
    [Type] nvarchar(max) NULL,
    [Description] nvarchar(max) NULL,
    CONSTRAINT [PK_RoomTypes] PRIMARY KEY ([RoomTypeId])
);
2025-08-03 17:35:25.230 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:35:25.230 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:35:25.230 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:35:25.230 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [UserId] bigint NOT NULL IDENTITY,
    [FirstName] nvarchar(50) NOT NULL,
    [LastName] nvarchar(50) NOT NULL,
    [Email] nvarchar(320) NOT NULL,
    [Password] nvarchar(100) NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(15) NOT NULL,
    [Salt] nvarchar(max) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([UserId])
);
2025-08-03 17:35:25.233 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [UserId] bigint NOT NULL IDENTITY,
    [FirstName] nvarchar(50) NOT NULL,
    [LastName] nvarchar(50) NOT NULL,
    [Email] nvarchar(320) NOT NULL,
    [Password] nvarchar(100) NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(15) NOT NULL,
    [Salt] nvarchar(max) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([UserId])
);
2025-08-03 17:35:25.234 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:35:25.234 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:35:25.234 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:35:25.234 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cities] (
    [CityId] bigint NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [CountryId] bigint NOT NULL,
    [IsActive] bit NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [UpdatedAt] datetime2 NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([CityId]),
    CONSTRAINT [FK_Cities_Countries_CountryId] FOREIGN KEY ([CountryId]) REFERENCES [Countries] ([CountryId]) ON DELETE CASCADE
);
2025-08-03 17:35:25.239 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cities] (
    [CityId] bigint NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [CountryId] bigint NOT NULL,
    [IsActive] bit NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [UpdatedAt] datetime2 NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([CityId]),
    CONSTRAINT [FK_Cities_Countries_CountryId] FOREIGN KEY ([CountryId]) REFERENCES [Countries] ([CountryId]) ON DELETE CASCADE
);
2025-08-03 17:35:25.240 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:35:25.240 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:35:25.240 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:35:25.240 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Bookings] (
    [BookingId] bigint NOT NULL IDENTITY,
    [StartDate] datetime2 NOT NULL,
    [EndDate] datetime2 NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETDATE()),
    [Status] int NOT NULL,
    [IsActive] bit NOT NULL DEFAULT CAST(1 AS bit),
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_Bookings] PRIMARY KEY ([BookingId]),
    CONSTRAINT [FK_Bookings_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:35:25.246 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Bookings] (
    [BookingId] bigint NOT NULL IDENTITY,
    [StartDate] datetime2 NOT NULL,
    [EndDate] datetime2 NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETDATE()),
    [Status] int NOT NULL,
    [IsActive] bit NOT NULL DEFAULT CAST(1 AS bit),
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_Bookings] PRIMARY KEY ([BookingId]),
    CONSTRAINT [FK_Bookings_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:35:25.247 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:35:25.247 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:35:25.247 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:35:25.247 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cards] (
    [CardId] bigint NOT NULL IDENTITY,
    [CardNumberMasked] nvarchar(20) NOT NULL,
    [CardHolderName] nvarchar(100) NOT NULL,
    [ExpiryMonth] int NOT NULL,
    [ExpiryYear] int NOT NULL,
    [Type] int NOT NULL,
    [SelectedForPayment] bit NOT NULL DEFAULT CAST(0 AS bit),
    [CVV] nvarchar(4) NOT NULL,
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_Cards] PRIMARY KEY ([CardId]),
    CONSTRAINT [FK_Cards_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:35:25.252 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cards] (
    [CardId] bigint NOT NULL IDENTITY,
    [CardNumberMasked] nvarchar(20) NOT NULL,
    [CardHolderName] nvarchar(100) NOT NULL,
    [ExpiryMonth] int NOT NULL,
    [ExpiryYear] int NOT NULL,
    [Type] int NOT NULL,
    [SelectedForPayment] bit NOT NULL DEFAULT CAST(0 AS bit),
    [CVV] nvarchar(4) NOT NULL,
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_Cards] PRIMARY KEY ([CardId]),
    CONSTRAINT [FK_Cards_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:35:25.252 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:35:25.252 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:35:25.252 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:35:25.252 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RefreshTokens] (
    [RefreshTokenId] bigint NOT NULL IDENTITY,
    [Token] nvarchar(max) NULL,
    [ExpirationDate] datetime2 NOT NULL,
    [IsRevoked] bit NOT NULL,
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_RefreshTokens] PRIMARY KEY ([RefreshTokenId]),
    CONSTRAINT [FK_RefreshTokens_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:35:25.257 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RefreshTokens] (
    [RefreshTokenId] bigint NOT NULL IDENTITY,
    [Token] nvarchar(max) NULL,
    [ExpirationDate] datetime2 NOT NULL,
    [IsRevoked] bit NOT NULL,
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_RefreshTokens] PRIMARY KEY ([RefreshTokenId]),
    CONSTRAINT [FK_RefreshTokens_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:35:25.257 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:35:25.257 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:35:25.257 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:35:25.257 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Hotels] (
    [HotelId] bigint NOT NULL IDENTITY,
    [HotelName] nvarchar(100) NOT NULL,
    [Location] nvarchar(200) NOT NULL,
    [PhoneNumber] nvarchar(15) NOT NULL,
    [Description] nvarchar(500) NULL,
    [TotalRooms] int NOT NULL,
    [StarRating] int NOT NULL,
    [CityId] bigint NOT NULL,
    CONSTRAINT [PK_Hotels] PRIMARY KEY ([HotelId]),
    CONSTRAINT [FK_Hotels_Cities_CityId] FOREIGN KEY ([CityId]) REFERENCES [Cities] ([CityId]) ON DELETE NO ACTION
);
2025-08-03 17:35:25.262 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Hotels] (
    [HotelId] bigint NOT NULL IDENTITY,
    [HotelName] nvarchar(100) NOT NULL,
    [Location] nvarchar(200) NOT NULL,
    [PhoneNumber] nvarchar(15) NOT NULL,
    [Description] nvarchar(500) NULL,
    [TotalRooms] int NOT NULL,
    [StarRating] int NOT NULL,
    [CityId] bigint NOT NULL,
    CONSTRAINT [PK_Hotels] PRIMARY KEY ([HotelId]),
    CONSTRAINT [FK_Hotels_Cities_CityId] FOREIGN KEY ([CityId]) REFERENCES [Cities] ([CityId]) ON DELETE NO ACTION
);
2025-08-03 17:35:25.263 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:35:25.263 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:35:25.263 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:35:25.263 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Payments] (
    [PaymentId] bigint NOT NULL IDENTITY,
    [PaidAmount] decimal(18,2) NOT NULL,
    [Status] int NOT NULL,
    [PaymentMethod] int NOT NULL,
    [PaidAt] datetime NOT NULL,
    [BookingId] bigint NOT NULL,
    CONSTRAINT [PK_Payments] PRIMARY KEY ([PaymentId]),
    CONSTRAINT [FK_Payments_Bookings_BookingId] FOREIGN KEY ([BookingId]) REFERENCES [Bookings] ([BookingId]) ON DELETE CASCADE
);
2025-08-03 17:35:25.267 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Payments] (
    [PaymentId] bigint NOT NULL IDENTITY,
    [PaidAmount] decimal(18,2) NOT NULL,
    [Status] int NOT NULL,
    [PaymentMethod] int NOT NULL,
    [PaidAt] datetime NOT NULL,
    [BookingId] bigint NOT NULL,
    CONSTRAINT [PK_Payments] PRIMARY KEY ([PaymentId]),
    CONSTRAINT [FK_Payments_Bookings_BookingId] FOREIGN KEY ([BookingId]) REFERENCES [Bookings] ([BookingId]) ON DELETE CASCADE
);
2025-08-03 17:35:25.267 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:35:25.267 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:35:25.267 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:35:25.267 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Complaints] (
    [ComplaintId] bigint NOT NULL IDENTITY,
    [Message] nvarchar(1000) NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETDATE()),
    [Status] int NOT NULL,
    [UserId] bigint NOT NULL,
    [BookingId] bigint NOT NULL,
    [HotelId] bigint NOT NULL,
    CONSTRAINT [PK_Complaints] PRIMARY KEY ([ComplaintId]),
    CONSTRAINT [FK_Complaints_Bookings_BookingId] FOREIGN KEY ([BookingId]) REFERENCES [Bookings] ([BookingId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Complaints_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Complaints_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:35:25.297 +05:00 [ERR] Failed executing DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Complaints] (
    [ComplaintId] bigint NOT NULL IDENTITY,
    [Message] nvarchar(1000) NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETDATE()),
    [Status] int NOT NULL,
    [UserId] bigint NOT NULL,
    [BookingId] bigint NOT NULL,
    [HotelId] bigint NOT NULL,
    CONSTRAINT [PK_Complaints] PRIMARY KEY ([ComplaintId]),
    CONSTRAINT [FK_Complaints_Bookings_BookingId] FOREIGN KEY ([BookingId]) REFERENCES [Bookings] ([BookingId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Complaints_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Complaints_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:35:25.297 +05:00 [DBG] Disposing transaction.
2025-08-03 17:35:25.303 +05:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-03 17:35:25.303 +05:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-03 17:35:25.303 +05:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-03 17:35:25.303 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-03 17:35:25.310 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-03 17:35:25.311 +05:00 [DBG] Closing connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:35:25.311 +05:00 [DBG] Closed connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS' (0ms).
2025-08-03 17:35:25.313 +05:00 [DBG] 'AppDbContext' disposed.
2025-08-03 17:35:25.316 +05:00 [DBG] Disposing connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:35:25.317 +05:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-03 17:37:40.837 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-03 17:37:41.448 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:41.450 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:41.451 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:41.452 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:41.452 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:41.453 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:41.454 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:41.454 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:41.455 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:41.455 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:41.456 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:41.456 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:41.456 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:41.457 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:41.457 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:41.458 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:41.458 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:41.489 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:41.489 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:41.490 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:41.490 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:41.490 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:41.490 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:41.490 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:41.490 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:41.491 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:41.491 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:41.629 +05:00 [DBG] The index {'BookingId'} was not created on entity type 'BookingRoom' as the properties are already covered by the index {'BookingId', 'RoomId'}.
2025-08-03 17:37:41.629 +05:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-03 17:37:41.632 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:41.797 +05:00 [DBG] The property 'Room.RoomTypeId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-08-03 17:37:41.798 +05:00 [WRN] The foreign key property 'RoomPhoto.RoomId1' was created in shadow state because a conflicting property with the simple name 'RoomId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-03 17:37:41.977 +05:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-08-03 17:37:42.267 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:42.267 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:42.267 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:42.268 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:42.268 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:42.269 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:42.269 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:42.270 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:42.270 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:42.270 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:42.271 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:42.271 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:42.271 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:42.271 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:42.272 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:42.272 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:42.273 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:42.293 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:42.293 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:42.294 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:42.294 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:42.294 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:42.294 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:42.294 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:42.295 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:42.295 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:42.295 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:42.326 +05:00 [DBG] The index {'BookingId'} was not created on entity type 'BookingRoom' as the properties are already covered by the index {'BookingId', 'RoomId'}.
2025-08-03 17:37:42.326 +05:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-03 17:37:42.326 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:37:42.364 +05:00 [DBG] The property 'Room.RoomTypeId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-08-03 17:37:42.365 +05:00 [WRN] The foreign key property 'RoomPhoto.RoomId1' was created in shadow state because a conflicting property with the simple name 'RoomId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-03 17:37:42.460 +05:00 [DBG] 'AppDbContext' disposed.
2025-08-03 17:38:16.866 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-03 17:38:17.494 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:17.495 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:17.496 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:17.496 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:17.497 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:17.497 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:17.497 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:17.498 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:17.498 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:17.498 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:17.499 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:17.499 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:17.500 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:17.500 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:17.500 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:17.501 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:17.501 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:17.527 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:17.527 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:17.527 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:17.527 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:17.527 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:17.527 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:17.527 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:17.528 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:17.528 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:17.528 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:17.647 +05:00 [DBG] The index {'BookingId'} was not created on entity type 'BookingRoom' as the properties are already covered by the index {'BookingId', 'RoomId'}.
2025-08-03 17:38:17.647 +05:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-03 17:38:17.650 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:17.801 +05:00 [DBG] The property 'Room.RoomTypeId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-08-03 17:38:17.802 +05:00 [WRN] The foreign key property 'RoomPhoto.RoomId1' was created in shadow state because a conflicting property with the simple name 'RoomId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-03 17:38:17.931 +05:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-08-03 17:38:19.063 +05:00 [DBG] 'AppDbContext' disposed.
2025-08-03 17:38:34.727 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-03 17:38:35.289 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:35.291 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:35.291 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:35.292 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:35.292 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:35.293 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:35.293 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:35.294 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:35.295 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:35.295 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:35.296 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:35.296 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:35.297 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:35.297 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:35.298 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:35.298 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:35.298 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:35.327 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:35.327 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:35.327 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:35.327 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:35.327 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:35.328 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:35.328 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:35.328 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:35.328 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:35.328 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:35.459 +05:00 [DBG] The index {'BookingId'} was not created on entity type 'BookingRoom' as the properties are already covered by the index {'BookingId', 'RoomId'}.
2025-08-03 17:38:35.459 +05:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-03 17:38:35.462 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:38:35.632 +05:00 [DBG] The property 'Room.RoomTypeId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-08-03 17:38:35.633 +05:00 [WRN] The foreign key property 'RoomPhoto.RoomId1' was created in shadow state because a conflicting property with the simple name 'RoomId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-03 17:38:35.777 +05:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-08-03 17:38:36.103 +05:00 [DBG] Creating DbConnection.
2025-08-03 17:38:36.110 +05:00 [DBG] Created DbConnection. (2ms).
2025-08-03 17:38:36.112 +05:00 [DBG] Migrating using database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:38:36.118 +05:00 [DBG] Opening connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:38:36.126 +05:00 [DBG] Opened connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:38:36.135 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:38:36.142 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (6ms).
2025-08-03 17:38:36.143 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2025-08-03 17:38:36.151 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-03 17:38:36.166 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-03 17:38:36.172 +05:00 [DBG] Closing connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:38:36.178 +05:00 [DBG] Closed connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS' (1ms).
2025-08-03 17:38:36.178 +05:00 [DBG] Opening connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:38:36.179 +05:00 [DBG] Opened connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:38:36.180 +05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-03 17:38:36.183 +05:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-03 17:38:36.183 +05:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-03 17:38:36.184 +05:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-03 17:38:36.184 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-03 17:38:36.208 +05:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-03 17:38:36.317 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-03 17:38:36.322 +05:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-08-03 17:38:36.323 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:38:36.324 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:38:36.325 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-08-03 17:38:36.325 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-03 17:38:36.328 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-03 17:38:36.330 +05:00 [DBG] Committing transaction.
2025-08-03 17:38:36.335 +05:00 [DBG] Committed transaction.
2025-08-03 17:38:36.337 +05:00 [DBG] Disposing transaction.
2025-08-03 17:38:36.340 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-03 17:38:36.340 +05:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-08-03 17:38:36.342 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:38:36.342 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:38:36.342 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:38:36.342 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-03 17:38:36.343 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-03 17:38:36.344 +05:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-03 17:38:36.344 +05:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-03 17:38:36.344 +05:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-03 17:38:36.344 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-03 17:38:36.345 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-03 17:38:36.348 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-03 17:38:36.348 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-03 17:38:36.348 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-08-03 17:38:36.349 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-03 17:38:36.355 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-03 17:38:36.357 +05:00 [DBG] Closing data reader to 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:38:36.359 +05:00 [DBG] A data reader for 'HotelBooking' on server 'localhost\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-03 17:38:36.367 +05:00 [INF] Applying migration '20250803123503_Init'.
2025-08-03 17:38:36.460 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:38:36.460 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:38:36.460 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:38:36.460 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Countries] (
    [CountryId] bigint NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [Code] nvarchar(10) NOT NULL,
    [PhoneCode] nvarchar(10) NULL,
    [Currency] nvarchar(10) NULL,
    [IsActive] bit NOT NULL,
    CONSTRAINT [PK_Countries] PRIMARY KEY ([CountryId])
);
2025-08-03 17:38:36.470 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Countries] (
    [CountryId] bigint NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [Code] nvarchar(10) NOT NULL,
    [PhoneCode] nvarchar(10) NULL,
    [Currency] nvarchar(10) NULL,
    [IsActive] bit NOT NULL,
    CONSTRAINT [PK_Countries] PRIMARY KEY ([CountryId])
);
2025-08-03 17:38:36.471 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:38:36.471 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:38:36.471 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:38:36.471 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RoomTypes] (
    [RoomTypeId] bigint NOT NULL IDENTITY,
    [Type] nvarchar(max) NULL,
    [Description] nvarchar(max) NULL,
    CONSTRAINT [PK_RoomTypes] PRIMARY KEY ([RoomTypeId])
);
2025-08-03 17:38:36.476 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RoomTypes] (
    [RoomTypeId] bigint NOT NULL IDENTITY,
    [Type] nvarchar(max) NULL,
    [Description] nvarchar(max) NULL,
    CONSTRAINT [PK_RoomTypes] PRIMARY KEY ([RoomTypeId])
);
2025-08-03 17:38:36.477 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:38:36.477 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:38:36.477 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:38:36.477 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [UserId] bigint NOT NULL IDENTITY,
    [FirstName] nvarchar(50) NOT NULL,
    [LastName] nvarchar(50) NOT NULL,
    [Email] nvarchar(320) NOT NULL,
    [Password] nvarchar(100) NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(15) NOT NULL,
    [Salt] nvarchar(max) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([UserId])
);
2025-08-03 17:38:36.480 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [UserId] bigint NOT NULL IDENTITY,
    [FirstName] nvarchar(50) NOT NULL,
    [LastName] nvarchar(50) NOT NULL,
    [Email] nvarchar(320) NOT NULL,
    [Password] nvarchar(100) NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(15) NOT NULL,
    [Salt] nvarchar(max) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([UserId])
);
2025-08-03 17:38:36.481 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:38:36.481 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:38:36.481 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:38:36.481 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cities] (
    [CityId] bigint NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [CountryId] bigint NOT NULL,
    [IsActive] bit NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [UpdatedAt] datetime2 NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([CityId]),
    CONSTRAINT [FK_Cities_Countries_CountryId] FOREIGN KEY ([CountryId]) REFERENCES [Countries] ([CountryId]) ON DELETE CASCADE
);
2025-08-03 17:38:36.485 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cities] (
    [CityId] bigint NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [CountryId] bigint NOT NULL,
    [IsActive] bit NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [UpdatedAt] datetime2 NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([CityId]),
    CONSTRAINT [FK_Cities_Countries_CountryId] FOREIGN KEY ([CountryId]) REFERENCES [Countries] ([CountryId]) ON DELETE CASCADE
);
2025-08-03 17:38:36.485 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:38:36.485 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:38:36.485 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:38:36.486 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Bookings] (
    [BookingId] bigint NOT NULL IDENTITY,
    [StartDate] datetime2 NOT NULL,
    [EndDate] datetime2 NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETDATE()),
    [Status] int NOT NULL,
    [IsActive] bit NOT NULL DEFAULT CAST(1 AS bit),
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_Bookings] PRIMARY KEY ([BookingId]),
    CONSTRAINT [FK_Bookings_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:38:36.491 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Bookings] (
    [BookingId] bigint NOT NULL IDENTITY,
    [StartDate] datetime2 NOT NULL,
    [EndDate] datetime2 NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETDATE()),
    [Status] int NOT NULL,
    [IsActive] bit NOT NULL DEFAULT CAST(1 AS bit),
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_Bookings] PRIMARY KEY ([BookingId]),
    CONSTRAINT [FK_Bookings_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:38:36.491 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:38:36.492 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:38:36.492 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:38:36.492 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cards] (
    [CardId] bigint NOT NULL IDENTITY,
    [CardNumberMasked] nvarchar(20) NOT NULL,
    [CardHolderName] nvarchar(100) NOT NULL,
    [ExpiryMonth] int NOT NULL,
    [ExpiryYear] int NOT NULL,
    [Type] int NOT NULL,
    [SelectedForPayment] bit NOT NULL DEFAULT CAST(0 AS bit),
    [CVV] nvarchar(4) NOT NULL,
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_Cards] PRIMARY KEY ([CardId]),
    CONSTRAINT [FK_Cards_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:38:36.496 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cards] (
    [CardId] bigint NOT NULL IDENTITY,
    [CardNumberMasked] nvarchar(20) NOT NULL,
    [CardHolderName] nvarchar(100) NOT NULL,
    [ExpiryMonth] int NOT NULL,
    [ExpiryYear] int NOT NULL,
    [Type] int NOT NULL,
    [SelectedForPayment] bit NOT NULL DEFAULT CAST(0 AS bit),
    [CVV] nvarchar(4) NOT NULL,
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_Cards] PRIMARY KEY ([CardId]),
    CONSTRAINT [FK_Cards_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:38:36.496 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:38:36.496 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:38:36.496 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:38:36.496 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RefreshTokens] (
    [RefreshTokenId] bigint NOT NULL IDENTITY,
    [Token] nvarchar(max) NULL,
    [ExpirationDate] datetime2 NOT NULL,
    [IsRevoked] bit NOT NULL,
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_RefreshTokens] PRIMARY KEY ([RefreshTokenId]),
    CONSTRAINT [FK_RefreshTokens_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:38:36.500 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RefreshTokens] (
    [RefreshTokenId] bigint NOT NULL IDENTITY,
    [Token] nvarchar(max) NULL,
    [ExpirationDate] datetime2 NOT NULL,
    [IsRevoked] bit NOT NULL,
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_RefreshTokens] PRIMARY KEY ([RefreshTokenId]),
    CONSTRAINT [FK_RefreshTokens_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:38:36.500 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:38:36.500 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:38:36.500 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:38:36.500 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Hotels] (
    [HotelId] bigint NOT NULL IDENTITY,
    [HotelName] nvarchar(100) NOT NULL,
    [Location] nvarchar(200) NOT NULL,
    [PhoneNumber] nvarchar(15) NOT NULL,
    [Description] nvarchar(500) NULL,
    [TotalRooms] int NOT NULL,
    [StarRating] int NOT NULL,
    [CityId] bigint NOT NULL,
    CONSTRAINT [PK_Hotels] PRIMARY KEY ([HotelId]),
    CONSTRAINT [FK_Hotels_Cities_CityId] FOREIGN KEY ([CityId]) REFERENCES [Cities] ([CityId]) ON DELETE NO ACTION
);
2025-08-03 17:38:36.505 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Hotels] (
    [HotelId] bigint NOT NULL IDENTITY,
    [HotelName] nvarchar(100) NOT NULL,
    [Location] nvarchar(200) NOT NULL,
    [PhoneNumber] nvarchar(15) NOT NULL,
    [Description] nvarchar(500) NULL,
    [TotalRooms] int NOT NULL,
    [StarRating] int NOT NULL,
    [CityId] bigint NOT NULL,
    CONSTRAINT [PK_Hotels] PRIMARY KEY ([HotelId]),
    CONSTRAINT [FK_Hotels_Cities_CityId] FOREIGN KEY ([CityId]) REFERENCES [Cities] ([CityId]) ON DELETE NO ACTION
);
2025-08-03 17:38:36.505 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:38:36.505 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:38:36.505 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:38:36.505 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Payments] (
    [PaymentId] bigint NOT NULL IDENTITY,
    [PaidAmount] decimal(18,2) NOT NULL,
    [Status] int NOT NULL,
    [PaymentMethod] int NOT NULL,
    [PaidAt] datetime NOT NULL,
    [BookingId] bigint NOT NULL,
    CONSTRAINT [PK_Payments] PRIMARY KEY ([PaymentId]),
    CONSTRAINT [FK_Payments_Bookings_BookingId] FOREIGN KEY ([BookingId]) REFERENCES [Bookings] ([BookingId]) ON DELETE CASCADE
);
2025-08-03 17:38:36.508 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Payments] (
    [PaymentId] bigint NOT NULL IDENTITY,
    [PaidAmount] decimal(18,2) NOT NULL,
    [Status] int NOT NULL,
    [PaymentMethod] int NOT NULL,
    [PaidAt] datetime NOT NULL,
    [BookingId] bigint NOT NULL,
    CONSTRAINT [PK_Payments] PRIMARY KEY ([PaymentId]),
    CONSTRAINT [FK_Payments_Bookings_BookingId] FOREIGN KEY ([BookingId]) REFERENCES [Bookings] ([BookingId]) ON DELETE CASCADE
);
2025-08-03 17:38:36.508 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:38:36.508 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:38:36.508 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:38:36.509 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Complaints] (
    [ComplaintId] bigint NOT NULL IDENTITY,
    [Message] nvarchar(1000) NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETDATE()),
    [Status] int NOT NULL,
    [UserId] bigint NOT NULL,
    [BookingId] bigint NOT NULL,
    [HotelId] bigint NOT NULL,
    CONSTRAINT [PK_Complaints] PRIMARY KEY ([ComplaintId]),
    CONSTRAINT [FK_Complaints_Bookings_BookingId] FOREIGN KEY ([BookingId]) REFERENCES [Bookings] ([BookingId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Complaints_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Complaints_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:38:36.527 +05:00 [ERR] Failed executing DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Complaints] (
    [ComplaintId] bigint NOT NULL IDENTITY,
    [Message] nvarchar(1000) NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETDATE()),
    [Status] int NOT NULL,
    [UserId] bigint NOT NULL,
    [BookingId] bigint NOT NULL,
    [HotelId] bigint NOT NULL,
    CONSTRAINT [PK_Complaints] PRIMARY KEY ([ComplaintId]),
    CONSTRAINT [FK_Complaints_Bookings_BookingId] FOREIGN KEY ([BookingId]) REFERENCES [Bookings] ([BookingId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Complaints_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Complaints_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:38:36.528 +05:00 [DBG] Disposing transaction.
2025-08-03 17:38:36.533 +05:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-03 17:38:36.533 +05:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-03 17:38:36.533 +05:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-03 17:38:36.533 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-03 17:38:36.539 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-03 17:38:36.539 +05:00 [DBG] Closing connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:38:36.539 +05:00 [DBG] Closed connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS' (0ms).
2025-08-03 17:38:36.541 +05:00 [DBG] 'AppDbContext' disposed.
2025-08-03 17:38:36.545 +05:00 [DBG] Disposing connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:38:36.549 +05:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-03 17:40:18.478 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-03 17:40:19.241 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:19.244 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:19.245 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:19.246 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:19.246 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:19.247 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:19.248 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:19.248 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:19.248 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:19.249 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:19.249 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:19.249 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:19.250 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:19.250 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:19.251 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:19.251 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:19.252 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:19.281 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:19.281 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:19.281 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:19.281 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:19.282 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:19.282 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:19.282 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:19.282 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:19.282 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:19.282 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:19.427 +05:00 [DBG] The index {'BookingId'} was not created on entity type 'BookingRoom' as the properties are already covered by the index {'BookingId', 'RoomId'}.
2025-08-03 17:40:19.428 +05:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-03 17:40:19.431 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:19.637 +05:00 [DBG] The property 'Room.RoomTypeId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-08-03 17:40:19.638 +05:00 [WRN] The foreign key property 'RoomPhoto.RoomId1' was created in shadow state because a conflicting property with the simple name 'RoomId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-03 17:40:19.810 +05:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-08-03 17:40:20.983 +05:00 [DBG] 'AppDbContext' disposed.
2025-08-03 17:40:39.684 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-03 17:40:40.310 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:40.311 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:40.312 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:40.313 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:40.313 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:40.313 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:40.314 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:40.314 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:40.315 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:40.315 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:40.316 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:40.316 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:40.316 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:40.317 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:40.317 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:40.318 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:40.318 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:40.346 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:40.346 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:40.346 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:40.346 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:40.346 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:40.346 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:40.347 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:40.347 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:40.347 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:40.347 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:40.483 +05:00 [DBG] The index {'BookingId'} was not created on entity type 'BookingRoom' as the properties are already covered by the index {'BookingId', 'RoomId'}.
2025-08-03 17:40:40.484 +05:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-03 17:40:40.487 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:40:40.717 +05:00 [DBG] The property 'Room.RoomTypeId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-08-03 17:40:40.718 +05:00 [WRN] The foreign key property 'RoomPhoto.RoomId1' was created in shadow state because a conflicting property with the simple name 'RoomId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-03 17:40:40.864 +05:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-08-03 17:40:41.136 +05:00 [DBG] Creating DbConnection.
2025-08-03 17:40:41.143 +05:00 [DBG] Created DbConnection. (3ms).
2025-08-03 17:40:41.144 +05:00 [DBG] Migrating using database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:40:41.150 +05:00 [DBG] Opening connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:40:41.156 +05:00 [DBG] Opened connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:40:41.165 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:40:41.172 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (7ms).
2025-08-03 17:40:41.174 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (13ms).
2025-08-03 17:40:41.182 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-03 17:40:41.198 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-03 17:40:41.206 +05:00 [DBG] Closing connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:40:41.212 +05:00 [DBG] Closed connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS' (1ms).
2025-08-03 17:40:41.212 +05:00 [DBG] Opening connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:40:41.212 +05:00 [DBG] Opened connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:40:41.213 +05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-03 17:40:41.218 +05:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-03 17:40:41.218 +05:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-03 17:40:41.218 +05:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-03 17:40:41.219 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-03 17:40:41.240 +05:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-03 17:40:41.330 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-03 17:40:41.336 +05:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-08-03 17:40:41.338 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:40:41.338 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:40:41.339 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-08-03 17:40:41.339 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-03 17:40:41.342 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-03 17:40:41.344 +05:00 [DBG] Committing transaction.
2025-08-03 17:40:41.348 +05:00 [DBG] Committed transaction.
2025-08-03 17:40:41.350 +05:00 [DBG] Disposing transaction.
2025-08-03 17:40:41.353 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-03 17:40:41.353 +05:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-08-03 17:40:41.355 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:40:41.355 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:40:41.355 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:40:41.355 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-03 17:40:41.356 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-03 17:40:41.356 +05:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-03 17:40:41.356 +05:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-03 17:40:41.356 +05:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-03 17:40:41.356 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-03 17:40:41.358 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-03 17:40:41.360 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-03 17:40:41.360 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-03 17:40:41.360 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-08-03 17:40:41.361 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-03 17:40:41.365 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-03 17:40:41.368 +05:00 [DBG] Closing data reader to 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:40:41.369 +05:00 [DBG] A data reader for 'HotelBooking' on server 'localhost\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-03 17:40:41.376 +05:00 [INF] Applying migration '20250803123503_Init'.
2025-08-03 17:40:41.480 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:40:41.480 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:40:41.480 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:40:41.480 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Countries] (
    [CountryId] bigint NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [Code] nvarchar(10) NOT NULL,
    [PhoneCode] nvarchar(10) NULL,
    [Currency] nvarchar(10) NULL,
    [IsActive] bit NOT NULL,
    CONSTRAINT [PK_Countries] PRIMARY KEY ([CountryId])
);
2025-08-03 17:40:41.489 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Countries] (
    [CountryId] bigint NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [Code] nvarchar(10) NOT NULL,
    [PhoneCode] nvarchar(10) NULL,
    [Currency] nvarchar(10) NULL,
    [IsActive] bit NOT NULL,
    CONSTRAINT [PK_Countries] PRIMARY KEY ([CountryId])
);
2025-08-03 17:40:41.489 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:40:41.489 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:40:41.489 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:40:41.489 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RoomTypes] (
    [RoomTypeId] bigint NOT NULL IDENTITY,
    [Type] nvarchar(max) NULL,
    [Description] nvarchar(max) NULL,
    CONSTRAINT [PK_RoomTypes] PRIMARY KEY ([RoomTypeId])
);
2025-08-03 17:40:41.492 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RoomTypes] (
    [RoomTypeId] bigint NOT NULL IDENTITY,
    [Type] nvarchar(max) NULL,
    [Description] nvarchar(max) NULL,
    CONSTRAINT [PK_RoomTypes] PRIMARY KEY ([RoomTypeId])
);
2025-08-03 17:40:41.492 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:40:41.492 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:40:41.492 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:40:41.492 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [UserId] bigint NOT NULL IDENTITY,
    [FirstName] nvarchar(50) NOT NULL,
    [LastName] nvarchar(50) NOT NULL,
    [Email] nvarchar(320) NOT NULL,
    [Password] nvarchar(100) NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(15) NOT NULL,
    [Salt] nvarchar(max) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([UserId])
);
2025-08-03 17:40:41.548 +05:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [UserId] bigint NOT NULL IDENTITY,
    [FirstName] nvarchar(50) NOT NULL,
    [LastName] nvarchar(50) NOT NULL,
    [Email] nvarchar(320) NOT NULL,
    [Password] nvarchar(100) NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(15) NOT NULL,
    [Salt] nvarchar(max) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([UserId])
);
2025-08-03 17:40:41.548 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:40:41.548 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:40:41.548 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:40:41.548 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cities] (
    [CityId] bigint NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [CountryId] bigint NOT NULL,
    [IsActive] bit NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [UpdatedAt] datetime2 NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([CityId]),
    CONSTRAINT [FK_Cities_Countries_CountryId] FOREIGN KEY ([CountryId]) REFERENCES [Countries] ([CountryId]) ON DELETE CASCADE
);
2025-08-03 17:40:41.554 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cities] (
    [CityId] bigint NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [CountryId] bigint NOT NULL,
    [IsActive] bit NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [UpdatedAt] datetime2 NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([CityId]),
    CONSTRAINT [FK_Cities_Countries_CountryId] FOREIGN KEY ([CountryId]) REFERENCES [Countries] ([CountryId]) ON DELETE CASCADE
);
2025-08-03 17:40:41.554 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:40:41.554 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:40:41.554 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:40:41.554 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Bookings] (
    [BookingId] bigint NOT NULL IDENTITY,
    [StartDate] datetime2 NOT NULL,
    [EndDate] datetime2 NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETDATE()),
    [Status] int NOT NULL,
    [IsActive] bit NOT NULL DEFAULT CAST(1 AS bit),
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_Bookings] PRIMARY KEY ([BookingId]),
    CONSTRAINT [FK_Bookings_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:40:41.571 +05:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Bookings] (
    [BookingId] bigint NOT NULL IDENTITY,
    [StartDate] datetime2 NOT NULL,
    [EndDate] datetime2 NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETDATE()),
    [Status] int NOT NULL,
    [IsActive] bit NOT NULL DEFAULT CAST(1 AS bit),
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_Bookings] PRIMARY KEY ([BookingId]),
    CONSTRAINT [FK_Bookings_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:40:41.571 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:40:41.571 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:40:41.571 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:40:41.571 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cards] (
    [CardId] bigint NOT NULL IDENTITY,
    [CardNumberMasked] nvarchar(20) NOT NULL,
    [CardHolderName] nvarchar(100) NOT NULL,
    [ExpiryMonth] int NOT NULL,
    [ExpiryYear] int NOT NULL,
    [Type] int NOT NULL,
    [SelectedForPayment] bit NOT NULL DEFAULT CAST(0 AS bit),
    [CVV] nvarchar(4) NOT NULL,
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_Cards] PRIMARY KEY ([CardId]),
    CONSTRAINT [FK_Cards_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:40:41.577 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cards] (
    [CardId] bigint NOT NULL IDENTITY,
    [CardNumberMasked] nvarchar(20) NOT NULL,
    [CardHolderName] nvarchar(100) NOT NULL,
    [ExpiryMonth] int NOT NULL,
    [ExpiryYear] int NOT NULL,
    [Type] int NOT NULL,
    [SelectedForPayment] bit NOT NULL DEFAULT CAST(0 AS bit),
    [CVV] nvarchar(4) NOT NULL,
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_Cards] PRIMARY KEY ([CardId]),
    CONSTRAINT [FK_Cards_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:40:41.577 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:40:41.577 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:40:41.577 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:40:41.577 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RefreshTokens] (
    [RefreshTokenId] bigint NOT NULL IDENTITY,
    [Token] nvarchar(max) NULL,
    [ExpirationDate] datetime2 NOT NULL,
    [IsRevoked] bit NOT NULL,
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_RefreshTokens] PRIMARY KEY ([RefreshTokenId]),
    CONSTRAINT [FK_RefreshTokens_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:40:41.580 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RefreshTokens] (
    [RefreshTokenId] bigint NOT NULL IDENTITY,
    [Token] nvarchar(max) NULL,
    [ExpirationDate] datetime2 NOT NULL,
    [IsRevoked] bit NOT NULL,
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_RefreshTokens] PRIMARY KEY ([RefreshTokenId]),
    CONSTRAINT [FK_RefreshTokens_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:40:41.581 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:40:41.581 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:40:41.581 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:40:41.581 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Hotels] (
    [HotelId] bigint NOT NULL IDENTITY,
    [HotelName] nvarchar(100) NOT NULL,
    [Location] nvarchar(200) NOT NULL,
    [PhoneNumber] nvarchar(15) NOT NULL,
    [Description] nvarchar(500) NULL,
    [TotalRooms] int NOT NULL,
    [StarRating] int NOT NULL,
    [CityId] bigint NOT NULL,
    CONSTRAINT [PK_Hotels] PRIMARY KEY ([HotelId]),
    CONSTRAINT [FK_Hotels_Cities_CityId] FOREIGN KEY ([CityId]) REFERENCES [Cities] ([CityId]) ON DELETE NO ACTION
);
2025-08-03 17:40:41.587 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Hotels] (
    [HotelId] bigint NOT NULL IDENTITY,
    [HotelName] nvarchar(100) NOT NULL,
    [Location] nvarchar(200) NOT NULL,
    [PhoneNumber] nvarchar(15) NOT NULL,
    [Description] nvarchar(500) NULL,
    [TotalRooms] int NOT NULL,
    [StarRating] int NOT NULL,
    [CityId] bigint NOT NULL,
    CONSTRAINT [PK_Hotels] PRIMARY KEY ([HotelId]),
    CONSTRAINT [FK_Hotels_Cities_CityId] FOREIGN KEY ([CityId]) REFERENCES [Cities] ([CityId]) ON DELETE NO ACTION
);
2025-08-03 17:40:41.588 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:40:41.588 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:40:41.588 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:40:41.588 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Payments] (
    [PaymentId] bigint NOT NULL IDENTITY,
    [PaidAmount] decimal(18,2) NOT NULL,
    [Status] int NOT NULL,
    [PaymentMethod] int NOT NULL,
    [PaidAt] datetime NOT NULL,
    [BookingId] bigint NOT NULL,
    CONSTRAINT [PK_Payments] PRIMARY KEY ([PaymentId]),
    CONSTRAINT [FK_Payments_Bookings_BookingId] FOREIGN KEY ([BookingId]) REFERENCES [Bookings] ([BookingId]) ON DELETE CASCADE
);
2025-08-03 17:40:41.594 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Payments] (
    [PaymentId] bigint NOT NULL IDENTITY,
    [PaidAmount] decimal(18,2) NOT NULL,
    [Status] int NOT NULL,
    [PaymentMethod] int NOT NULL,
    [PaidAt] datetime NOT NULL,
    [BookingId] bigint NOT NULL,
    CONSTRAINT [PK_Payments] PRIMARY KEY ([PaymentId]),
    CONSTRAINT [FK_Payments_Bookings_BookingId] FOREIGN KEY ([BookingId]) REFERENCES [Bookings] ([BookingId]) ON DELETE CASCADE
);
2025-08-03 17:40:41.594 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:40:41.594 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:40:41.594 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:40:41.595 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Complaints] (
    [ComplaintId] bigint NOT NULL IDENTITY,
    [Message] nvarchar(1000) NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETDATE()),
    [Status] int NOT NULL,
    [UserId] bigint NOT NULL,
    [BookingId] bigint NOT NULL,
    [HotelId] bigint NOT NULL,
    CONSTRAINT [PK_Complaints] PRIMARY KEY ([ComplaintId]),
    CONSTRAINT [FK_Complaints_Bookings_BookingId] FOREIGN KEY ([BookingId]) REFERENCES [Bookings] ([BookingId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Complaints_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Complaints_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:40:41.637 +05:00 [ERR] Failed executing DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Complaints] (
    [ComplaintId] bigint NOT NULL IDENTITY,
    [Message] nvarchar(1000) NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETDATE()),
    [Status] int NOT NULL,
    [UserId] bigint NOT NULL,
    [BookingId] bigint NOT NULL,
    [HotelId] bigint NOT NULL,
    CONSTRAINT [PK_Complaints] PRIMARY KEY ([ComplaintId]),
    CONSTRAINT [FK_Complaints_Bookings_BookingId] FOREIGN KEY ([BookingId]) REFERENCES [Bookings] ([BookingId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Complaints_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Complaints_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:40:41.638 +05:00 [DBG] Disposing transaction.
2025-08-03 17:40:41.644 +05:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-03 17:40:41.644 +05:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-03 17:40:41.644 +05:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-03 17:40:41.644 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-03 17:40:41.651 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-03 17:40:41.652 +05:00 [DBG] Closing connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:40:41.652 +05:00 [DBG] Closed connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS' (0ms).
2025-08-03 17:40:41.654 +05:00 [DBG] 'AppDbContext' disposed.
2025-08-03 17:40:41.658 +05:00 [DBG] Disposing connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:40:41.660 +05:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-03 17:41:44.003 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-03 17:41:44.543 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:41:44.545 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:41:44.546 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:41:44.547 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:41:44.547 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:41:44.547 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:41:44.548 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:41:44.549 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:41:44.549 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:41:44.549 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:41:44.550 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:41:44.550 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:41:44.551 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:41:44.551 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:41:44.552 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:41:44.552 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:41:44.552 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:41:44.580 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:41:44.580 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:41:44.580 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:41:44.580 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:41:44.580 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:41:44.580 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:41:44.581 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:41:44.581 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:41:44.581 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:41:44.581 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:41:44.706 +05:00 [DBG] The index {'BookingId'} was not created on entity type 'BookingRoom' as the properties are already covered by the index {'BookingId', 'RoomId'}.
2025-08-03 17:41:44.707 +05:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-03 17:41:44.709 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:41:44.863 +05:00 [DBG] The property 'Room.RoomTypeId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-08-03 17:41:44.864 +05:00 [WRN] The foreign key property 'RoomPhoto.RoomId1' was created in shadow state because a conflicting property with the simple name 'RoomId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-03 17:41:45.008 +05:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-08-03 17:41:45.262 +05:00 [DBG] Creating DbConnection.
2025-08-03 17:41:45.268 +05:00 [DBG] Created DbConnection. (2ms).
2025-08-03 17:41:45.269 +05:00 [DBG] Migrating using database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:41:45.274 +05:00 [DBG] Opening connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:41:45.292 +05:00 [DBG] Opened connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:41:45.300 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:41:45.306 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2025-08-03 17:41:45.308 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2025-08-03 17:41:45.315 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-03 17:41:45.328 +05:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-03 17:41:45.334 +05:00 [DBG] Closing connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:41:45.340 +05:00 [DBG] Closed connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS' (1ms).
2025-08-03 17:41:45.340 +05:00 [DBG] Opening connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:41:45.340 +05:00 [DBG] Opened connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:41:45.341 +05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-03 17:41:45.345 +05:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-03 17:41:45.345 +05:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-03 17:41:45.345 +05:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-03 17:41:45.346 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-03 17:41:45.386 +05:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-03 17:41:45.460 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-03 17:41:45.466 +05:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-08-03 17:41:45.467 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:41:45.467 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:41:45.468 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-08-03 17:41:45.468 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-03 17:41:45.470 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-03 17:41:45.472 +05:00 [DBG] Committing transaction.
2025-08-03 17:41:45.475 +05:00 [DBG] Committed transaction.
2025-08-03 17:41:45.477 +05:00 [DBG] Disposing transaction.
2025-08-03 17:41:45.479 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-03 17:41:45.479 +05:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-08-03 17:41:45.481 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:41:45.481 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:41:45.481 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:41:45.481 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-03 17:41:45.481 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-03 17:41:45.482 +05:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-03 17:41:45.482 +05:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-03 17:41:45.482 +05:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-03 17:41:45.482 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-03 17:41:45.483 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-03 17:41:45.485 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-03 17:41:45.485 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-03 17:41:45.485 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-08-03 17:41:45.485 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-03 17:41:45.488 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-03 17:41:45.490 +05:00 [DBG] Closing data reader to 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:41:45.492 +05:00 [DBG] A data reader for 'HotelBooking' on server 'localhost\SQLEXPRESS' is being disposed after spending 2ms reading results.
2025-08-03 17:41:45.497 +05:00 [INF] Applying migration '20250803123503_Init'.
2025-08-03 17:41:45.582 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:41:45.582 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:41:45.582 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:41:45.582 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Countries] (
    [CountryId] bigint NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [Code] nvarchar(10) NOT NULL,
    [PhoneCode] nvarchar(10) NULL,
    [Currency] nvarchar(10) NULL,
    [IsActive] bit NOT NULL,
    CONSTRAINT [PK_Countries] PRIMARY KEY ([CountryId])
);
2025-08-03 17:41:45.589 +05:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Countries] (
    [CountryId] bigint NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [Code] nvarchar(10) NOT NULL,
    [PhoneCode] nvarchar(10) NULL,
    [Currency] nvarchar(10) NULL,
    [IsActive] bit NOT NULL,
    CONSTRAINT [PK_Countries] PRIMARY KEY ([CountryId])
);
2025-08-03 17:41:45.590 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:41:45.590 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:41:45.590 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:41:45.590 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RoomTypes] (
    [RoomTypeId] bigint NOT NULL IDENTITY,
    [Type] nvarchar(max) NULL,
    [Description] nvarchar(max) NULL,
    CONSTRAINT [PK_RoomTypes] PRIMARY KEY ([RoomTypeId])
);
2025-08-03 17:41:45.593 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RoomTypes] (
    [RoomTypeId] bigint NOT NULL IDENTITY,
    [Type] nvarchar(max) NULL,
    [Description] nvarchar(max) NULL,
    CONSTRAINT [PK_RoomTypes] PRIMARY KEY ([RoomTypeId])
);
2025-08-03 17:41:45.593 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:41:45.593 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:41:45.593 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:41:45.593 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [UserId] bigint NOT NULL IDENTITY,
    [FirstName] nvarchar(50) NOT NULL,
    [LastName] nvarchar(50) NOT NULL,
    [Email] nvarchar(320) NOT NULL,
    [Password] nvarchar(100) NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(15) NOT NULL,
    [Salt] nvarchar(max) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([UserId])
);
2025-08-03 17:41:45.595 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [UserId] bigint NOT NULL IDENTITY,
    [FirstName] nvarchar(50) NOT NULL,
    [LastName] nvarchar(50) NOT NULL,
    [Email] nvarchar(320) NOT NULL,
    [Password] nvarchar(100) NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(15) NOT NULL,
    [Salt] nvarchar(max) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([UserId])
);
2025-08-03 17:41:45.595 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:41:45.595 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:41:45.595 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:41:45.595 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cities] (
    [CityId] bigint NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [CountryId] bigint NOT NULL,
    [IsActive] bit NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [UpdatedAt] datetime2 NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([CityId]),
    CONSTRAINT [FK_Cities_Countries_CountryId] FOREIGN KEY ([CountryId]) REFERENCES [Countries] ([CountryId]) ON DELETE CASCADE
);
2025-08-03 17:41:45.598 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cities] (
    [CityId] bigint NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [CountryId] bigint NOT NULL,
    [IsActive] bit NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [UpdatedAt] datetime2 NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([CityId]),
    CONSTRAINT [FK_Cities_Countries_CountryId] FOREIGN KEY ([CountryId]) REFERENCES [Countries] ([CountryId]) ON DELETE CASCADE
);
2025-08-03 17:41:45.598 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:41:45.598 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:41:45.598 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:41:45.598 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Bookings] (
    [BookingId] bigint NOT NULL IDENTITY,
    [StartDate] datetime2 NOT NULL,
    [EndDate] datetime2 NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETDATE()),
    [Status] int NOT NULL,
    [IsActive] bit NOT NULL DEFAULT CAST(1 AS bit),
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_Bookings] PRIMARY KEY ([BookingId]),
    CONSTRAINT [FK_Bookings_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:41:45.602 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Bookings] (
    [BookingId] bigint NOT NULL IDENTITY,
    [StartDate] datetime2 NOT NULL,
    [EndDate] datetime2 NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETDATE()),
    [Status] int NOT NULL,
    [IsActive] bit NOT NULL DEFAULT CAST(1 AS bit),
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_Bookings] PRIMARY KEY ([BookingId]),
    CONSTRAINT [FK_Bookings_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:41:45.602 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:41:45.603 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:41:45.603 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:41:45.603 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cards] (
    [CardId] bigint NOT NULL IDENTITY,
    [CardNumberMasked] nvarchar(20) NOT NULL,
    [CardHolderName] nvarchar(100) NOT NULL,
    [ExpiryMonth] int NOT NULL,
    [ExpiryYear] int NOT NULL,
    [Type] int NOT NULL,
    [SelectedForPayment] bit NOT NULL DEFAULT CAST(0 AS bit),
    [CVV] nvarchar(4) NOT NULL,
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_Cards] PRIMARY KEY ([CardId]),
    CONSTRAINT [FK_Cards_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:41:45.608 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cards] (
    [CardId] bigint NOT NULL IDENTITY,
    [CardNumberMasked] nvarchar(20) NOT NULL,
    [CardHolderName] nvarchar(100) NOT NULL,
    [ExpiryMonth] int NOT NULL,
    [ExpiryYear] int NOT NULL,
    [Type] int NOT NULL,
    [SelectedForPayment] bit NOT NULL DEFAULT CAST(0 AS bit),
    [CVV] nvarchar(4) NOT NULL,
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_Cards] PRIMARY KEY ([CardId]),
    CONSTRAINT [FK_Cards_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:41:45.609 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:41:45.609 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:41:45.609 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:41:45.609 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RefreshTokens] (
    [RefreshTokenId] bigint NOT NULL IDENTITY,
    [Token] nvarchar(max) NULL,
    [ExpirationDate] datetime2 NOT NULL,
    [IsRevoked] bit NOT NULL,
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_RefreshTokens] PRIMARY KEY ([RefreshTokenId]),
    CONSTRAINT [FK_RefreshTokens_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:41:45.611 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RefreshTokens] (
    [RefreshTokenId] bigint NOT NULL IDENTITY,
    [Token] nvarchar(max) NULL,
    [ExpirationDate] datetime2 NOT NULL,
    [IsRevoked] bit NOT NULL,
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_RefreshTokens] PRIMARY KEY ([RefreshTokenId]),
    CONSTRAINT [FK_RefreshTokens_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:41:45.611 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:41:45.612 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:41:45.612 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:41:45.612 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Hotels] (
    [HotelId] bigint NOT NULL IDENTITY,
    [HotelName] nvarchar(100) NOT NULL,
    [Location] nvarchar(200) NOT NULL,
    [PhoneNumber] nvarchar(15) NOT NULL,
    [Description] nvarchar(500) NULL,
    [TotalRooms] int NOT NULL,
    [StarRating] int NOT NULL,
    [CityId] bigint NOT NULL,
    CONSTRAINT [PK_Hotels] PRIMARY KEY ([HotelId]),
    CONSTRAINT [FK_Hotels_Cities_CityId] FOREIGN KEY ([CityId]) REFERENCES [Cities] ([CityId]) ON DELETE NO ACTION
);
2025-08-03 17:41:45.614 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Hotels] (
    [HotelId] bigint NOT NULL IDENTITY,
    [HotelName] nvarchar(100) NOT NULL,
    [Location] nvarchar(200) NOT NULL,
    [PhoneNumber] nvarchar(15) NOT NULL,
    [Description] nvarchar(500) NULL,
    [TotalRooms] int NOT NULL,
    [StarRating] int NOT NULL,
    [CityId] bigint NOT NULL,
    CONSTRAINT [PK_Hotels] PRIMARY KEY ([HotelId]),
    CONSTRAINT [FK_Hotels_Cities_CityId] FOREIGN KEY ([CityId]) REFERENCES [Cities] ([CityId]) ON DELETE NO ACTION
);
2025-08-03 17:41:45.614 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:41:45.614 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:41:45.614 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:41:45.614 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Payments] (
    [PaymentId] bigint NOT NULL IDENTITY,
    [PaidAmount] decimal(18,2) NOT NULL,
    [Status] int NOT NULL,
    [PaymentMethod] int NOT NULL,
    [PaidAt] datetime NOT NULL,
    [BookingId] bigint NOT NULL,
    CONSTRAINT [PK_Payments] PRIMARY KEY ([PaymentId]),
    CONSTRAINT [FK_Payments_Bookings_BookingId] FOREIGN KEY ([BookingId]) REFERENCES [Bookings] ([BookingId]) ON DELETE CASCADE
);
2025-08-03 17:41:45.617 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Payments] (
    [PaymentId] bigint NOT NULL IDENTITY,
    [PaidAmount] decimal(18,2) NOT NULL,
    [Status] int NOT NULL,
    [PaymentMethod] int NOT NULL,
    [PaidAt] datetime NOT NULL,
    [BookingId] bigint NOT NULL,
    CONSTRAINT [PK_Payments] PRIMARY KEY ([PaymentId]),
    CONSTRAINT [FK_Payments_Bookings_BookingId] FOREIGN KEY ([BookingId]) REFERENCES [Bookings] ([BookingId]) ON DELETE CASCADE
);
2025-08-03 17:41:45.617 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:41:45.617 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:41:45.617 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:41:45.617 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Complaints] (
    [ComplaintId] bigint NOT NULL IDENTITY,
    [Message] nvarchar(1000) NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETDATE()),
    [Status] int NOT NULL,
    [UserId] bigint NOT NULL,
    [BookingId] bigint NOT NULL,
    [HotelId] bigint NOT NULL,
    CONSTRAINT [PK_Complaints] PRIMARY KEY ([ComplaintId]),
    CONSTRAINT [FK_Complaints_Bookings_BookingId] FOREIGN KEY ([BookingId]) REFERENCES [Bookings] ([BookingId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Complaints_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Complaints_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:41:45.633 +05:00 [ERR] Failed executing DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Complaints] (
    [ComplaintId] bigint NOT NULL IDENTITY,
    [Message] nvarchar(1000) NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETDATE()),
    [Status] int NOT NULL,
    [UserId] bigint NOT NULL,
    [BookingId] bigint NOT NULL,
    [HotelId] bigint NOT NULL,
    CONSTRAINT [PK_Complaints] PRIMARY KEY ([ComplaintId]),
    CONSTRAINT [FK_Complaints_Bookings_BookingId] FOREIGN KEY ([BookingId]) REFERENCES [Bookings] ([BookingId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Complaints_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Complaints_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:41:45.633 +05:00 [DBG] Disposing transaction.
2025-08-03 17:41:45.637 +05:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-03 17:41:45.637 +05:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-03 17:41:45.637 +05:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-03 17:41:45.637 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-03 17:41:45.641 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-03 17:41:45.641 +05:00 [DBG] Closing connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:41:45.641 +05:00 [DBG] Closed connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS' (0ms).
2025-08-03 17:41:45.643 +05:00 [DBG] 'AppDbContext' disposed.
2025-08-03 17:41:45.645 +05:00 [DBG] Disposing connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:41:45.646 +05:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-08-03 17:44:29.689 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-03 17:44:30.359 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:30.361 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:30.362 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:30.363 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:30.363 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:30.364 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:30.364 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:30.365 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:30.365 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:30.366 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:30.366 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:30.366 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:30.367 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:30.367 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:30.368 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:30.368 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:30.369 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:30.397 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:30.398 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:30.398 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:30.398 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:30.398 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:30.398 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:30.399 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:30.399 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:30.399 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:30.399 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:30.533 +05:00 [DBG] The index {'BookingId'} was not created on entity type 'BookingRoom' as the properties are already covered by the index {'BookingId', 'RoomId'}.
2025-08-03 17:44:30.534 +05:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-03 17:44:30.537 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:30.719 +05:00 [DBG] The property 'Room.RoomTypeId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-08-03 17:44:30.720 +05:00 [WRN] The foreign key property 'RoomPhoto.RoomId1' was created in shadow state because a conflicting property with the simple name 'RoomId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-03 17:44:30.898 +05:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-08-03 17:44:31.914 +05:00 [DBG] 'AppDbContext' disposed.
2025-08-03 17:44:48.050 +05:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-08-03 17:44:48.673 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:48.675 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:48.676 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:48.676 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:48.677 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:48.677 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:48.678 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:48.679 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:48.679 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:48.680 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:48.680 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:48.680 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:48.681 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:48.681 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:48.682 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:48.682 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:48.683 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:48.713 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:48.713 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:48.713 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:48.713 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:48.713 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:48.713 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:48.714 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:48.714 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:48.714 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:48.715 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:48.864 +05:00 [DBG] The index {'BookingId'} was not created on entity type 'BookingRoom' as the properties are already covered by the index {'BookingId', 'RoomId'}.
2025-08-03 17:44:48.864 +05:00 [DBG] The index {'UserId'} was not created on entity type 'UserRole' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-08-03 17:44:48.867 +05:00 [DBG] For the relationship between dependent 'RoomPhoto.Room' and principal 'Room.RoomPhotos', the foreign key properties haven't been configured by convention because the best match {'RoomId' : int} are incompatible with the current principal key {'RoomId' : long}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2025-08-03 17:44:49.040 +05:00 [DBG] The property 'Room.RoomTypeId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-08-03 17:44:49.041 +05:00 [WRN] The foreign key property 'RoomPhoto.RoomId1' was created in shadow state because a conflicting property with the simple name 'RoomId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-08-03 17:44:49.198 +05:00 [DBG] Entity Framework Core 9.0.6 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.6' with options: EngineType=SqlServer 
2025-08-03 17:44:49.525 +05:00 [DBG] Creating DbConnection.
2025-08-03 17:44:49.531 +05:00 [DBG] Created DbConnection. (2ms).
2025-08-03 17:44:49.533 +05:00 [DBG] Migrating using database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:44:49.538 +05:00 [DBG] Opening connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:44:49.545 +05:00 [DBG] Opened connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:44:49.553 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.559 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2025-08-03 17:44:49.561 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (11ms).
2025-08-03 17:44:49.569 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-03 17:44:49.583 +05:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-03 17:44:49.590 +05:00 [DBG] Closing connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:44:49.596 +05:00 [DBG] Closed connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS' (1ms).
2025-08-03 17:44:49.596 +05:00 [DBG] Opening connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:44:49.596 +05:00 [DBG] Opened connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:44:49.598 +05:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-08-03 17:44:49.601 +05:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-03 17:44:49.601 +05:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-03 17:44:49.601 +05:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-03 17:44:49.601 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-03 17:44:49.622 +05:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-08-03 17:44:49.701 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-03 17:44:49.707 +05:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-08-03 17:44:49.708 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.708 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.709 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-08-03 17:44:49.709 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-03 17:44:49.711 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-08-03 17:44:49.713 +05:00 [DBG] Committing transaction.
2025-08-03 17:44:49.716 +05:00 [DBG] Committed transaction.
2025-08-03 17:44:49.717 +05:00 [DBG] Disposing transaction.
2025-08-03 17:44:49.720 +05:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-08-03 17:44:49.720 +05:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-08-03 17:44:49.721 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.721 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.721 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.722 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-03 17:44:49.722 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-08-03 17:44:49.723 +05:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-03 17:44:49.723 +05:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-03 17:44:49.723 +05:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-03 17:44:49.723 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-03 17:44:49.723 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-08-03 17:44:49.725 +05:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-08-03 17:44:49.725 +05:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-08-03 17:44:49.725 +05:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2025-08-03 17:44:49.726 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-03 17:44:49.728 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-08-03 17:44:49.730 +05:00 [DBG] Closing data reader to 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:44:49.732 +05:00 [DBG] A data reader for 'HotelBooking' on server 'localhost\SQLEXPRESS' is being disposed after spending 1ms reading results.
2025-08-03 17:44:49.737 +05:00 [INF] Applying migration '20250803124431_InitialCreate'.
2025-08-03 17:44:49.832 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.832 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.832 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.832 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Countries] (
    [CountryId] bigint NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [Code] nvarchar(10) NOT NULL,
    [PhoneCode] nvarchar(10) NULL,
    [Currency] nvarchar(10) NULL,
    [IsActive] bit NOT NULL,
    CONSTRAINT [PK_Countries] PRIMARY KEY ([CountryId])
);
2025-08-03 17:44:49.837 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Countries] (
    [CountryId] bigint NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [Code] nvarchar(10) NOT NULL,
    [PhoneCode] nvarchar(10) NULL,
    [Currency] nvarchar(10) NULL,
    [IsActive] bit NOT NULL,
    CONSTRAINT [PK_Countries] PRIMARY KEY ([CountryId])
);
2025-08-03 17:44:49.837 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.837 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.837 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.837 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RoomTypes] (
    [RoomTypeId] bigint NOT NULL IDENTITY,
    [Type] nvarchar(max) NULL,
    [Description] nvarchar(max) NULL,
    CONSTRAINT [PK_RoomTypes] PRIMARY KEY ([RoomTypeId])
);
2025-08-03 17:44:49.841 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RoomTypes] (
    [RoomTypeId] bigint NOT NULL IDENTITY,
    [Type] nvarchar(max) NULL,
    [Description] nvarchar(max) NULL,
    CONSTRAINT [PK_RoomTypes] PRIMARY KEY ([RoomTypeId])
);
2025-08-03 17:44:49.841 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.841 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.841 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.841 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [UserId] bigint NOT NULL IDENTITY,
    [FirstName] nvarchar(50) NOT NULL,
    [LastName] nvarchar(50) NOT NULL,
    [Email] nvarchar(320) NOT NULL,
    [Password] nvarchar(100) NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(15) NOT NULL,
    [Salt] nvarchar(max) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([UserId])
);
2025-08-03 17:44:49.844 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Users] (
    [UserId] bigint NOT NULL IDENTITY,
    [FirstName] nvarchar(50) NOT NULL,
    [LastName] nvarchar(50) NOT NULL,
    [Email] nvarchar(320) NOT NULL,
    [Password] nvarchar(100) NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(15) NOT NULL,
    [Salt] nvarchar(max) NULL,
    CONSTRAINT [PK_Users] PRIMARY KEY ([UserId])
);
2025-08-03 17:44:49.844 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.844 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.844 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.844 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cities] (
    [CityId] bigint NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [CountryId] bigint NOT NULL,
    [IsActive] bit NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [UpdatedAt] datetime2 NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([CityId]),
    CONSTRAINT [FK_Cities_Countries_CountryId] FOREIGN KEY ([CountryId]) REFERENCES [Countries] ([CountryId]) ON DELETE CASCADE
);
2025-08-03 17:44:49.847 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cities] (
    [CityId] bigint NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [CountryId] bigint NOT NULL,
    [IsActive] bit NOT NULL,
    [CreatedAt] datetime2 NOT NULL,
    [UpdatedAt] datetime2 NULL,
    CONSTRAINT [PK_Cities] PRIMARY KEY ([CityId]),
    CONSTRAINT [FK_Cities_Countries_CountryId] FOREIGN KEY ([CountryId]) REFERENCES [Countries] ([CountryId]) ON DELETE CASCADE
);
2025-08-03 17:44:49.848 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.848 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.848 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.848 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Bookings] (
    [BookingId] bigint NOT NULL IDENTITY,
    [StartDate] datetime2 NOT NULL,
    [EndDate] datetime2 NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETDATE()),
    [Status] int NOT NULL,
    [IsActive] bit NOT NULL DEFAULT CAST(1 AS bit),
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_Bookings] PRIMARY KEY ([BookingId]),
    CONSTRAINT [FK_Bookings_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:44:49.852 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Bookings] (
    [BookingId] bigint NOT NULL IDENTITY,
    [StartDate] datetime2 NOT NULL,
    [EndDate] datetime2 NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETDATE()),
    [Status] int NOT NULL,
    [IsActive] bit NOT NULL DEFAULT CAST(1 AS bit),
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_Bookings] PRIMARY KEY ([BookingId]),
    CONSTRAINT [FK_Bookings_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:44:49.852 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.852 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.852 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.852 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cards] (
    [CardId] bigint NOT NULL IDENTITY,
    [CardNumberMasked] nvarchar(20) NOT NULL,
    [CardHolderName] nvarchar(100) NOT NULL,
    [ExpiryMonth] int NOT NULL,
    [ExpiryYear] int NOT NULL,
    [Type] int NOT NULL,
    [SelectedForPayment] bit NOT NULL DEFAULT CAST(0 AS bit),
    [CVV] nvarchar(4) NOT NULL,
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_Cards] PRIMARY KEY ([CardId]),
    CONSTRAINT [FK_Cards_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:44:49.855 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Cards] (
    [CardId] bigint NOT NULL IDENTITY,
    [CardNumberMasked] nvarchar(20) NOT NULL,
    [CardHolderName] nvarchar(100) NOT NULL,
    [ExpiryMonth] int NOT NULL,
    [ExpiryYear] int NOT NULL,
    [Type] int NOT NULL,
    [SelectedForPayment] bit NOT NULL DEFAULT CAST(0 AS bit),
    [CVV] nvarchar(4) NOT NULL,
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_Cards] PRIMARY KEY ([CardId]),
    CONSTRAINT [FK_Cards_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:44:49.855 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.855 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.855 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.855 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RefreshTokens] (
    [RefreshTokenId] bigint NOT NULL IDENTITY,
    [Token] nvarchar(max) NULL,
    [ExpirationDate] datetime2 NOT NULL,
    [IsRevoked] bit NOT NULL,
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_RefreshTokens] PRIMARY KEY ([RefreshTokenId]),
    CONSTRAINT [FK_RefreshTokens_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:44:49.858 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RefreshTokens] (
    [RefreshTokenId] bigint NOT NULL IDENTITY,
    [Token] nvarchar(max) NULL,
    [ExpirationDate] datetime2 NOT NULL,
    [IsRevoked] bit NOT NULL,
    [UserId] bigint NOT NULL,
    CONSTRAINT [PK_RefreshTokens] PRIMARY KEY ([RefreshTokenId]),
    CONSTRAINT [FK_RefreshTokens_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:44:49.858 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.858 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.858 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.859 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Hotels] (
    [HotelId] bigint NOT NULL IDENTITY,
    [HotelName] nvarchar(100) NOT NULL,
    [Location] nvarchar(200) NOT NULL,
    [PhoneNumber] nvarchar(15) NOT NULL,
    [Description] nvarchar(500) NULL,
    [TotalRooms] int NOT NULL,
    [StarRating] int NOT NULL,
    [CityId] bigint NOT NULL,
    CONSTRAINT [PK_Hotels] PRIMARY KEY ([HotelId]),
    CONSTRAINT [FK_Hotels_Cities_CityId] FOREIGN KEY ([CityId]) REFERENCES [Cities] ([CityId]) ON DELETE NO ACTION
);
2025-08-03 17:44:49.862 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Hotels] (
    [HotelId] bigint NOT NULL IDENTITY,
    [HotelName] nvarchar(100) NOT NULL,
    [Location] nvarchar(200) NOT NULL,
    [PhoneNumber] nvarchar(15) NOT NULL,
    [Description] nvarchar(500) NULL,
    [TotalRooms] int NOT NULL,
    [StarRating] int NOT NULL,
    [CityId] bigint NOT NULL,
    CONSTRAINT [PK_Hotels] PRIMARY KEY ([HotelId]),
    CONSTRAINT [FK_Hotels_Cities_CityId] FOREIGN KEY ([CityId]) REFERENCES [Cities] ([CityId]) ON DELETE NO ACTION
);
2025-08-03 17:44:49.862 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.863 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.863 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.863 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Payments] (
    [PaymentId] bigint NOT NULL IDENTITY,
    [PaidAmount] decimal(18,2) NOT NULL,
    [Status] int NOT NULL,
    [PaymentMethod] int NOT NULL,
    [PaidAt] datetime NOT NULL,
    [BookingId] bigint NOT NULL,
    CONSTRAINT [PK_Payments] PRIMARY KEY ([PaymentId]),
    CONSTRAINT [FK_Payments_Bookings_BookingId] FOREIGN KEY ([BookingId]) REFERENCES [Bookings] ([BookingId]) ON DELETE CASCADE
);
2025-08-03 17:44:49.865 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Payments] (
    [PaymentId] bigint NOT NULL IDENTITY,
    [PaidAmount] decimal(18,2) NOT NULL,
    [Status] int NOT NULL,
    [PaymentMethod] int NOT NULL,
    [PaidAt] datetime NOT NULL,
    [BookingId] bigint NOT NULL,
    CONSTRAINT [PK_Payments] PRIMARY KEY ([PaymentId]),
    CONSTRAINT [FK_Payments_Bookings_BookingId] FOREIGN KEY ([BookingId]) REFERENCES [Bookings] ([BookingId]) ON DELETE CASCADE
);
2025-08-03 17:44:49.866 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.866 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.866 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.866 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Complaints] (
    [ComplaintId] bigint NOT NULL IDENTITY,
    [Message] nvarchar(1000) NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETDATE()),
    [Status] int NOT NULL,
    [UserId] bigint NOT NULL,
    [BookingId] bigint NOT NULL,
    [HotelId] bigint NOT NULL,
    CONSTRAINT [PK_Complaints] PRIMARY KEY ([ComplaintId]),
    CONSTRAINT [FK_Complaints_Bookings_BookingId] FOREIGN KEY ([BookingId]) REFERENCES [Bookings] ([BookingId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Complaints_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Complaints_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE NO ACTION
);
2025-08-03 17:44:49.870 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Complaints] (
    [ComplaintId] bigint NOT NULL IDENTITY,
    [Message] nvarchar(1000) NOT NULL,
    [CreatedAt] datetime2 NOT NULL DEFAULT (GETDATE()),
    [Status] int NOT NULL,
    [UserId] bigint NOT NULL,
    [BookingId] bigint NOT NULL,
    [HotelId] bigint NOT NULL,
    CONSTRAINT [PK_Complaints] PRIMARY KEY ([ComplaintId]),
    CONSTRAINT [FK_Complaints_Bookings_BookingId] FOREIGN KEY ([BookingId]) REFERENCES [Bookings] ([BookingId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Complaints_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE NO ACTION,
    CONSTRAINT [FK_Complaints_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE NO ACTION
);
2025-08-03 17:44:49.870 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.870 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.870 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.871 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Reviews] (
    [ReviewId] bigint NOT NULL IDENTITY,
    [Rating] int NOT NULL,
    [Comment] nvarchar(1000) NULL,
    [CreatedAt] datetime2 NOT NULL,
    [IsVisible] bit NOT NULL DEFAULT CAST(1 AS bit),
    [UserId] bigint NOT NULL,
    [HotelId] bigint NOT NULL,
    CONSTRAINT [PK_Reviews] PRIMARY KEY ([ReviewId]),
    CONSTRAINT [FK_Reviews_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Reviews_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:44:49.875 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Reviews] (
    [ReviewId] bigint NOT NULL IDENTITY,
    [Rating] int NOT NULL,
    [Comment] nvarchar(1000) NULL,
    [CreatedAt] datetime2 NOT NULL,
    [IsVisible] bit NOT NULL DEFAULT CAST(1 AS bit),
    [UserId] bigint NOT NULL,
    [HotelId] bigint NOT NULL,
    CONSTRAINT [PK_Reviews] PRIMARY KEY ([ReviewId]),
    CONSTRAINT [FK_Reviews_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Reviews_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:44:49.875 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.875 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.875 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.875 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Roles] (
    [RoleId] bigint NOT NULL IDENTITY,
    [RoleName] nvarchar(100) NOT NULL,
    [Description] nvarchar(500) NULL,
    [IsActive] bit NOT NULL,
    [HotelId] bigint NOT NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([RoleId]),
    CONSTRAINT [FK_Roles_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE
);
2025-08-03 17:44:49.880 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Roles] (
    [RoleId] bigint NOT NULL IDENTITY,
    [RoleName] nvarchar(100) NOT NULL,
    [Description] nvarchar(500) NULL,
    [IsActive] bit NOT NULL,
    [HotelId] bigint NOT NULL,
    CONSTRAINT [PK_Roles] PRIMARY KEY ([RoleId]),
    CONSTRAINT [FK_Roles_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE
);
2025-08-03 17:44:49.880 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.880 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.880 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.880 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Rooms] (
    [RoomId] bigint NOT NULL IDENTITY,
    [RoomNumber] int NOT NULL,
    [RoomType] nvarchar(10) NOT NULL,
    [Price] decimal(18,2) NOT NULL,
    [IsAvailable] bit NOT NULL,
    [IsDeleted] bit NOT NULL,
    [HotelId] bigint NOT NULL,
    [RoomTypeId] bigint NULL,
    CONSTRAINT [PK_Rooms] PRIMARY KEY ([RoomId]),
    CONSTRAINT [FK_Rooms_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Rooms_RoomTypes_RoomTypeId] FOREIGN KEY ([RoomTypeId]) REFERENCES [RoomTypes] ([RoomTypeId])
);
2025-08-03 17:44:49.886 +05:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Rooms] (
    [RoomId] bigint NOT NULL IDENTITY,
    [RoomNumber] int NOT NULL,
    [RoomType] nvarchar(10) NOT NULL,
    [Price] decimal(18,2) NOT NULL,
    [IsAvailable] bit NOT NULL,
    [IsDeleted] bit NOT NULL,
    [HotelId] bigint NOT NULL,
    [RoomTypeId] bigint NULL,
    CONSTRAINT [PK_Rooms] PRIMARY KEY ([RoomId]),
    CONSTRAINT [FK_Rooms_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE,
    CONSTRAINT [FK_Rooms_RoomTypes_RoomTypeId] FOREIGN KEY ([RoomTypeId]) REFERENCES [RoomTypes] ([RoomTypeId])
);
2025-08-03 17:44:49.887 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.887 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.887 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.887 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Services] (
    [ServiceId] bigint NOT NULL IDENTITY,
    [ServiceName] nvarchar(100) NOT NULL,
    [Description] nvarchar(max) NULL,
    [Price] decimal(18,2) NOT NULL,
    [IsAvailable] bit NOT NULL,
    [HotelId] bigint NOT NULL,
    CONSTRAINT [PK_Services] PRIMARY KEY ([ServiceId]),
    CONSTRAINT [FK_Services_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE
);
2025-08-03 17:44:49.891 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Services] (
    [ServiceId] bigint NOT NULL IDENTITY,
    [ServiceName] nvarchar(100) NOT NULL,
    [Description] nvarchar(max) NULL,
    [Price] decimal(18,2) NOT NULL,
    [IsAvailable] bit NOT NULL,
    [HotelId] bigint NOT NULL,
    CONSTRAINT [PK_Services] PRIMARY KEY ([ServiceId]),
    CONSTRAINT [FK_Services_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([HotelId]) ON DELETE CASCADE
);
2025-08-03 17:44:49.891 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.891 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.891 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.891 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [UserId] bigint NOT NULL,
    [RoleId] bigint NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([RoleId]) ON DELETE CASCADE,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:44:49.915 +05:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [UserRoles] (
    [UserId] bigint NOT NULL,
    [RoleId] bigint NOT NULL,
    CONSTRAINT [PK_UserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_UserRoles_Roles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [Roles] ([RoleId]) ON DELETE CASCADE,
    CONSTRAINT [FK_UserRoles_Users_UserId] FOREIGN KEY ([UserId]) REFERENCES [Users] ([UserId]) ON DELETE CASCADE
);
2025-08-03 17:44:49.916 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.916 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.916 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.916 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BookingRooms] (
    [BookingId] bigint NOT NULL,
    [RoomId] bigint NOT NULL,
    CONSTRAINT [PK_BookingRooms] PRIMARY KEY ([BookingId], [RoomId]),
    CONSTRAINT [FK_BookingRooms_Bookings_BookingId] FOREIGN KEY ([BookingId]) REFERENCES [Bookings] ([BookingId]) ON DELETE CASCADE,
    CONSTRAINT [FK_BookingRooms_Rooms_RoomId] FOREIGN KEY ([RoomId]) REFERENCES [Rooms] ([RoomId]) ON DELETE CASCADE
);
2025-08-03 17:44:49.919 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BookingRooms] (
    [BookingId] bigint NOT NULL,
    [RoomId] bigint NOT NULL,
    CONSTRAINT [PK_BookingRooms] PRIMARY KEY ([BookingId], [RoomId]),
    CONSTRAINT [FK_BookingRooms_Bookings_BookingId] FOREIGN KEY ([BookingId]) REFERENCES [Bookings] ([BookingId]) ON DELETE CASCADE,
    CONSTRAINT [FK_BookingRooms_Rooms_RoomId] FOREIGN KEY ([RoomId]) REFERENCES [Rooms] ([RoomId]) ON DELETE CASCADE
);
2025-08-03 17:44:49.919 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.919 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.920 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.920 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RoomPhotos] (
    [RoomPhotoId] bigint NOT NULL IDENTITY,
    [RoomId] int NOT NULL,
    [PhotoName] nvarchar(450) NULL,
    [RoomId1] bigint NULL,
    CONSTRAINT [PK_RoomPhotos] PRIMARY KEY ([RoomPhotoId]),
    CONSTRAINT [FK_RoomPhotos_Rooms_RoomId1] FOREIGN KEY ([RoomId1]) REFERENCES [Rooms] ([RoomId])
);
2025-08-03 17:44:49.924 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RoomPhotos] (
    [RoomPhotoId] bigint NOT NULL IDENTITY,
    [RoomId] int NOT NULL,
    [PhotoName] nvarchar(450) NULL,
    [RoomId1] bigint NULL,
    CONSTRAINT [PK_RoomPhotos] PRIMARY KEY ([RoomPhotoId]),
    CONSTRAINT [FK_RoomPhotos_Rooms_RoomId1] FOREIGN KEY ([RoomId1]) REFERENCES [Rooms] ([RoomId])
);
2025-08-03 17:44:49.924 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.924 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.924 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.924 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BookingRooms_RoomId] ON [BookingRooms] ([RoomId]);
2025-08-03 17:44:49.933 +05:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BookingRooms_RoomId] ON [BookingRooms] ([RoomId]);
2025-08-03 17:44:49.933 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.933 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.934 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.934 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Bookings_UserId] ON [Bookings] ([UserId]);
2025-08-03 17:44:49.936 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Bookings_UserId] ON [Bookings] ([UserId]);
2025-08-03 17:44:49.936 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.936 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.936 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.936 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Cards_UserId] ON [Cards] ([UserId]);
2025-08-03 17:44:49.938 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Cards_UserId] ON [Cards] ([UserId]);
2025-08-03 17:44:49.938 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.939 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.939 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.939 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Cities_CountryId] ON [Cities] ([CountryId]);
2025-08-03 17:44:49.941 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Cities_CountryId] ON [Cities] ([CountryId]);
2025-08-03 17:44:49.941 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.941 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.941 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.941 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Complaints_BookingId] ON [Complaints] ([BookingId]);
2025-08-03 17:44:49.943 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Complaints_BookingId] ON [Complaints] ([BookingId]);
2025-08-03 17:44:49.943 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.943 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.943 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.943 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Complaints_HotelId] ON [Complaints] ([HotelId]);
2025-08-03 17:44:49.945 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Complaints_HotelId] ON [Complaints] ([HotelId]);
2025-08-03 17:44:49.945 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.946 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.946 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.946 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Complaints_UserId] ON [Complaints] ([UserId]);
2025-08-03 17:44:49.949 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Complaints_UserId] ON [Complaints] ([UserId]);
2025-08-03 17:44:49.950 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.950 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.950 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.950 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Hotels_CityId] ON [Hotels] ([CityId]);
2025-08-03 17:44:49.952 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Hotels_CityId] ON [Hotels] ([CityId]);
2025-08-03 17:44:49.953 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.953 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.953 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.953 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Payments_BookingId] ON [Payments] ([BookingId]);
2025-08-03 17:44:49.955 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Payments_BookingId] ON [Payments] ([BookingId]);
2025-08-03 17:44:49.955 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.955 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.955 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.955 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_RefreshTokens_UserId] ON [RefreshTokens] ([UserId]);
2025-08-03 17:44:49.958 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_RefreshTokens_UserId] ON [RefreshTokens] ([UserId]);
2025-08-03 17:44:49.958 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.958 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.958 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.958 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Reviews_HotelId] ON [Reviews] ([HotelId]);
2025-08-03 17:44:49.960 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Reviews_HotelId] ON [Reviews] ([HotelId]);
2025-08-03 17:44:49.961 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.961 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.961 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.961 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Reviews_UserId] ON [Reviews] ([UserId]);
2025-08-03 17:44:49.964 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Reviews_UserId] ON [Reviews] ([UserId]);
2025-08-03 17:44:49.964 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.964 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.964 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.964 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Roles_HotelId] ON [Roles] ([HotelId]);
2025-08-03 17:44:49.966 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Roles_HotelId] ON [Roles] ([HotelId]);
2025-08-03 17:44:49.966 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.966 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.966 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.966 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_RoomPhotos_PhotoName] ON [RoomPhotos] ([PhotoName]) WHERE [PhotoName] IS NOT NULL;
2025-08-03 17:44:49.971 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_RoomPhotos_PhotoName] ON [RoomPhotos] ([PhotoName]) WHERE [PhotoName] IS NOT NULL;
2025-08-03 17:44:49.971 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.971 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.971 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.971 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_RoomPhotos_RoomId1] ON [RoomPhotos] ([RoomId1]);
2025-08-03 17:44:49.973 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_RoomPhotos_RoomId1] ON [RoomPhotos] ([RoomId1]);
2025-08-03 17:44:49.973 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.973 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.973 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.973 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Rooms_HotelId] ON [Rooms] ([HotelId]);
2025-08-03 17:44:49.975 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Rooms_HotelId] ON [Rooms] ([HotelId]);
2025-08-03 17:44:49.975 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.975 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.975 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.975 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Rooms_RoomNumber] ON [Rooms] ([RoomNumber]);
2025-08-03 17:44:49.979 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Rooms_RoomNumber] ON [Rooms] ([RoomNumber]);
2025-08-03 17:44:49.979 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.979 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.979 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.979 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Rooms_RoomTypeId] ON [Rooms] ([RoomTypeId]);
2025-08-03 17:44:49.982 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Rooms_RoomTypeId] ON [Rooms] ([RoomTypeId]);
2025-08-03 17:44:49.983 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.983 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.983 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.983 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Services_HotelId] ON [Services] ([HotelId]);
2025-08-03 17:44:49.985 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Services_HotelId] ON [Services] ([HotelId]);
2025-08-03 17:44:49.986 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.986 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.986 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.986 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);
2025-08-03 17:44:49.988 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_UserRoles_RoleId] ON [UserRoles] ([RoleId]);
2025-08-03 17:44:49.988 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.988 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.988 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.988 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Email] ON [Users] ([Email]);
2025-08-03 17:44:49.990 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Users_Email] ON [Users] ([Email]);
2025-08-03 17:44:49.990 +05:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-08-03 17:44:49.990 +05:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.990 +05:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2025-08-03 17:44:49.990 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250803124431_InitialCreate', N'9.0.6');
2025-08-03 17:44:50.219 +05:00 [INF] Executed DbCommand (229ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20250803124431_InitialCreate', N'9.0.6');
2025-08-03 17:44:50.220 +05:00 [DBG] Committing transaction.
2025-08-03 17:44:50.221 +05:00 [DBG] Committed transaction.
2025-08-03 17:44:50.221 +05:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-08-03 17:44:50.222 +05:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-08-03 17:44:50.222 +05:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2025-08-03 17:44:50.222 +05:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-03 17:44:50.226 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-08-03 17:44:50.226 +05:00 [DBG] Disposing transaction.
2025-08-03 17:44:50.226 +05:00 [DBG] Closing connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:44:50.226 +05:00 [DBG] Closed connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS' (0ms).
2025-08-03 17:44:50.228 +05:00 [DBG] 'AppDbContext' disposed.
2025-08-03 17:44:50.231 +05:00 [DBG] Disposing connection to database 'HotelBooking' on server 'localhost\SQLEXPRESS'.
2025-08-03 17:44:50.232 +05:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-08-03 23:25:14.107 +05:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-08-03 23:25:14.247 +05:00 [DBG] Hosting starting
2025-08-03 23:25:14.261 +05:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-03 23:25:14.272 +05:00 [DBG] Reading data from file 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys\key-8b84c055-e5bb-4b6a-863a-ce67bcd16812.xml'.
2025-08-03 23:25:14.282 +05:00 [DBG] Found key {8b84c055-e5bb-4b6a-863a-ce67bcd16812}.
2025-08-03 23:25:14.292 +05:00 [DBG] Considering key {8b84c055-e5bb-4b6a-863a-ce67bcd16812} with expiration date 2025-09-18 02:51:18Z as default key.
2025-08-03 23:25:14.296 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-03 23:25:14.301 +05:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-08-03 23:25:14.303 +05:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-08-03 23:25:14.309 +05:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-08-03 23:25:14.310 +05:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-08-03 23:25:14.311 +05:00 [DBG] Using key {8b84c055-e5bb-4b6a-863a-ce67bcd16812} as the default key.
2025-08-03 23:25:14.312 +05:00 [DBG] Key ring with default key {8b84c055-e5bb-4b6a-863a-ce67bcd16812} was loaded during application startup.
2025-08-03 23:25:14.446 +05:00 [INF] Now listening on: http://localhost:5117
2025-08-03 23:25:14.446 +05:00 [DBG] Loaded hosting startup assembly HotelBookingSystem.Web
2025-08-03 23:25:14.447 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.ApiEndpointDiscovery
2025-08-03 23:25:14.447 +05:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-08-03 23:25:14.447 +05:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2025-08-03 23:25:14.458 +05:00 [DBG] Connection id "0HNEINCBHE240" received FIN.
2025-08-03 23:25:14.458 +05:00 [DBG] Connection id "0HNEINCBHE241" received FIN.
2025-08-03 23:25:14.472 +05:00 [DBG] Connection id "0HNEINCBHE241" accepted.
2025-08-03 23:25:14.472 +05:00 [DBG] Connection id "0HNEINCBHE240" accepted.
2025-08-03 23:25:14.474 +05:00 [DBG] Connection id "0HNEINCBHE241" started.
2025-08-03 23:25:14.474 +05:00 [DBG] Connection id "0HNEINCBHE240" started.
2025-08-03 23:25:14.481 +05:00 [DBG] Connection id "0HNEINCBHE241" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-03 23:25:14.481 +05:00 [DBG] Connection id "0HNEINCBHE240" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-03 23:25:14.485 +05:00 [DBG] Connection id "0HNEINCBHE241" disconnecting.
2025-08-03 23:25:14.485 +05:00 [DBG] Connection id "0HNEINCBHE240" disconnecting.
2025-08-03 23:25:14.493 +05:00 [DBG] Connection id "0HNEINCBHE241" stopped.
2025-08-03 23:25:14.493 +05:00 [DBG] Connection id "0HNEINCBHE240" stopped.
2025-08-03 23:25:14.591 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-03 23:25:14.591 +05:00 [INF] Hosting environment: Development
2025-08-03 23:25:14.592 +05:00 [INF] Content root path: C:\Users\user\source\repos\HotelBookingSystem\HotelBookingSystem\src\HotelBookingSystem.Web
2025-08-03 23:25:14.592 +05:00 [DBG] Hosting started
2025-08-03 23:25:15.524 +05:00 [DBG] Connection id "0HNEINCBHE242" accepted.
2025-08-03 23:25:15.524 +05:00 [DBG] Connection id "0HNEINCBHE242" started.
2025-08-03 23:25:16.490 +05:00 [DBG] Connection id "0HNEINCBHE243" accepted.
2025-08-03 23:25:16.491 +05:00 [DBG] Connection id "0HNEINCBHE243" started.
2025-08-03 23:25:16.529 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5117/swagger - null null
2025-08-03 23:25:16.718 +05:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-08-03 23:25:16.743 +05:00 [DBG] No candidates found for the request path '/swagger'
2025-08-03 23:25:16.743 +05:00 [DBG] Request did not match any endpoints
2025-08-03 23:25:16.781 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-03 23:25:16.810 +05:00 [INF] Request to /swagger took 0.017 seconds with status code 301
2025-08-03 23:25:16.815 +05:00 [DBG] Connection id "0HNEINCBHE242" completed keep alive response.
2025-08-03 23:25:16.818 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5117/swagger - 301 0 null 292.8218ms
2025-08-03 23:25:16.823 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5117/swagger/index.html - null null
2025-08-03 23:25:16.827 +05:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-08-03 23:25:16.828 +05:00 [DBG] Request did not match any endpoints
2025-08-03 23:25:16.829 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-03 23:25:16.903 +05:00 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-08-03 23:25:16.904 +05:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-08-03 23:25:16.919 +05:00 [INF] Request to /swagger/index.html took 0.089 seconds with status code 200
2025-08-03 23:25:16.920 +05:00 [DBG] Response markup was updated to include Browser Link script injection.
2025-08-03 23:25:16.920 +05:00 [DBG] Response markup was updated to include browser refresh script injection.
2025-08-03 23:25:16.920 +05:00 [DBG] Connection id "0HNEINCBHE242" completed keep alive response.
2025-08-03 23:25:16.921 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5117/swagger/index.html - 200 null text/html;charset=utf-8 97.3333ms
2025-08-03 23:25:16.924 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5117/swagger/swagger-ui.css - null null
2025-08-03 23:25:16.924 +05:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2025-08-03 23:25:16.924 +05:00 [DBG] Request did not match any endpoints
2025-08-03 23:25:16.925 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5117/swagger/swagger-ui-bundle.js - null null
2025-08-03 23:25:16.926 +05:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2025-08-03 23:25:16.926 +05:00 [DBG] Request did not match any endpoints
2025-08-03 23:25:16.927 +05:00 [DBG] Connection id "0HNEINCBHE244" accepted.
2025-08-03 23:25:16.927 +05:00 [DBG] Connection id "0HNEINCBHE244" started.
2025-08-03 23:25:16.927 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5117/swagger/swagger-ui-standalone-preset.js - null null
2025-08-03 23:25:16.927 +05:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2025-08-03 23:25:16.927 +05:00 [DBG] Request did not match any endpoints
2025-08-03 23:25:16.928 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-03 23:25:16.928 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-03 23:25:16.929 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-03 23:25:16.957 +05:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-08-03 23:25:16.957 +05:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-08-03 23:25:16.959 +05:00 [INF] Request to /swagger/swagger-ui-standalone-preset.js took 0.029 seconds with status code 200
2025-08-03 23:25:16.959 +05:00 [INF] Request to /swagger/swagger-ui.css took 0.029 seconds with status code 200
2025-08-03 23:25:16.960 +05:00 [DBG] Connection id "0HNEINCBHE244" completed keep alive response.
2025-08-03 23:25:16.960 +05:00 [DBG] Connection id "0HNEINCBHE242" completed keep alive response.
2025-08-03 23:25:16.960 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5117/swagger/swagger-ui-standalone-preset.js - 200 230280 text/javascript 33.2623ms
2025-08-03 23:25:16.961 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5117/swagger/swagger-ui.css - 200 152034 text/css 36.9334ms
2025-08-03 23:25:16.961 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5117/_framework/aspnetcore-browser-refresh.js - null null
2025-08-03 23:25:16.963 +05:00 [DBG] Connection id "0HNEINCBHE244" completed keep alive response.
2025-08-03 23:25:16.963 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5117/_framework/aspnetcore-browser-refresh.js - 200 13780 application/javascript; charset=utf-8 2.4749ms
2025-08-03 23:25:16.973 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5117/_vs/browserLink - null null
2025-08-03 23:25:16.980 +05:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-08-03 23:25:16.980 +05:00 [INF] Request to /swagger/swagger-ui-bundle.js took 0.051 seconds with status code 200
2025-08-03 23:25:16.981 +05:00 [DBG] Connection id "0HNEINCBHE243" completed keep alive response.
2025-08-03 23:25:16.981 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5117/swagger/swagger-ui-bundle.js - 200 1456926 text/javascript 55.3756ms
2025-08-03 23:25:17.053 +05:00 [DBG] Connection id "0HNEINCBHE244" completed keep alive response.
2025-08-03 23:25:17.053 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5117/_vs/browserLink - 200 null text/javascript; charset=UTF-8 80.1703ms
2025-08-03 23:25:17.313 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5117/swagger/v1/swagger.json - null null
2025-08-03 23:25:17.313 +05:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-08-03 23:25:17.313 +05:00 [DBG] Request did not match any endpoints
2025-08-03 23:25:17.313 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-03 23:25:17.321 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5117/swagger/favicon-32x32.png - null null
2025-08-03 23:25:17.321 +05:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2025-08-03 23:25:17.321 +05:00 [DBG] Request did not match any endpoints
2025-08-03 23:25:17.321 +05:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-08-03 23:25:17.321 +05:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-08-03 23:25:17.322 +05:00 [INF] Request to /swagger/favicon-32x32.png took 0 seconds with status code 200
2025-08-03 23:25:17.322 +05:00 [DBG] Connection id "0HNEINCBHE243" completed keep alive response.
2025-08-03 23:25:17.322 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5117/swagger/favicon-32x32.png - 200 628 image/png 1.4945ms
2025-08-03 23:25:17.499 +05:00 [INF] Request to /swagger/v1/swagger.json took 0.184 seconds with status code 200
2025-08-03 23:25:17.499 +05:00 [DBG] Connection id "0HNEINCBHE244" completed keep alive response.
2025-08-03 23:25:17.499 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5117/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 186.012ms
2025-08-03 23:25:24.150 +05:00 [DBG] Connection id "0HNEINCBHE243" received FIN.
2025-08-03 23:25:24.150 +05:00 [DBG] Connection id "0HNEINCBHE244" received FIN.
2025-08-03 23:25:24.152 +05:00 [DBG] Connection id "0HNEINCBHE243" disconnecting.
2025-08-03 23:25:24.152 +05:00 [DBG] Connection id "0HNEINCBHE243" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-03 23:25:24.150 +05:00 [DBG] Connection id "0HNEINCBHE242" received FIN.
2025-08-03 23:25:24.153 +05:00 [DBG] Connection id "0HNEINCBHE244" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-03 23:25:24.153 +05:00 [DBG] Connection id "0HNEINCBHE242" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-08-03 23:25:24.153 +05:00 [DBG] Connection id "0HNEINCBHE244" disconnecting.
2025-08-03 23:25:24.153 +05:00 [DBG] Connection id "0HNEINCBHE242" disconnecting.
2025-08-03 23:25:24.177 +05:00 [DBG] Connection id "0HNEINCBHE244" stopped.
2025-08-03 23:25:24.177 +05:00 [DBG] Connection id "0HNEINCBHE242" stopped.
2025-08-03 23:25:24.177 +05:00 [DBG] Connection id "0HNEINCBHE243" stopped.
